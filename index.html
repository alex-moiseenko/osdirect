<!doctype html>
<html lang="ua">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="css/app.css">
</head>
<body>
<header>

</header>
<main>

</main>
<footer>

</footer>
<div class="container-fluid" id="slider">
    <div class="first_slide slide">
        <img src="img/1.png" alt="" id="image">
        <div class="shadow"></div>
    </div>
    <div class="second_slide slide">
        <img src="img/2.png" alt="">
        <div class="shadow"></div>
    </div>
    <div class="third_slide slide">
        <img src="img/3.png" alt="">
        <div class="shadow"></div>
    </div>
    <div class="forth_slide slide">
        <img src="img/4.png" alt="">
        <div class="shadow"></div>
    </div>
    <div class="fifth_slide slide">
        <img src="img/5.png" alt="" id="image5">
    </div>
</div>
<script src="http://code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
<script>

    var first_slide = $('.first_slide'),
        second_slide = $('.second_slide'),
        third_slide = $('.third_slide'),
        forth_slide = $('.forth_slide'),
        fifth_slide = $('.fifth_slide'),
        imageWidth = $('#image').width(),
        slide5width = $('#image5').width() / 2,
        halfWindowWidth = $(window).width() / 2,
        lock = false,
        active0 = true,
        active1 = false,
        active2 = false,
        active3 = false,
        active4 = false;

    $('.shadow').css('width', imageWidth);
//    fifth_slide.css('width', slide5width);

    console.log(imageWidth);
    console.log(slide5width);



    var x1, x2, x3, x4, x5;

    $('body').bind('mousewheel DOMMouseScroll', function (e) {

        if (!lock) {
            lock = true;
            setTimeout(function () {
                lock = false;
            }, 2000);

            var scroll = 0,
                slide1 = first_slide.position().left,
                slide2 = second_slide.position().left,
                slide3 = third_slide.position().left,
                slide4 = forth_slide.position().left,
                slide5 = fifth_slide.position().left;

            e.preventDefault();

            if (e.type == 'mousewheel') {
                scroll = e.originalEvent.wheelDeltaY * -1;
            }
            else if (e.type == 'DOMMouseScroll') {
                scroll = 40 * e.originalEvent.detail;
            }

            if (scroll < 0) {

                if (active0) {
                    active0 = false;
                    active1 = true;

                    x1 = slide1 - imageWidth;
                    x2 = slide2 - halfWindowWidth;
                    x3 = slide3 - halfWindowWidth;
                    x4 = slide4 - halfWindowWidth;
                    x5 = slide5 - halfWindowWidth;
                } else if (active1) {
                    active1 = false;
                    active2 = true;

                    x2 = slide2 - imageWidth;
                    x3 = slide3 - halfWindowWidth;
                    x4 = slide4 - halfWindowWidth;
                    x5 = slide5 - halfWindowWidth;
                } else if (active2) {
                    active2 = false;
                    active3 = true;

                    x3 = slide3 - imageWidth;
                    x4 = slide4 - halfWindowWidth;
                    x5 = slide5 - halfWindowWidth;
                } else if (active3) {

                    active3 = false;
                    active4 = true;

                    x4 = slide4 - imageWidth;
                    x5 = slide5 - halfWindowWidth;
                } else {
                    return;
                }

            } else {
                console.log(slide4);
                if (active4) {
                    active3 = true;
                    active4 = false;

                    x4 = slide4 + imageWidth;
                    x5 = slide5 + halfWindowWidth;
                } else if (active3) {
                    active2 = true;
                    active3 = false;

                    x3 = slide3 + imageWidth;
                    x4 = slide4 + halfWindowWidth;
                    x5 = slide5 + halfWindowWidth;
                } else if (active2) {
                    active1 = true;
                    active2 = false;

                    x2 = slide2 + imageWidth;
                    x3 = slide3 + halfWindowWidth;
                    x4 = slide4 + halfWindowWidth;
                    x5 = slide5 + halfWindowWidth;
                } else if (active1) {
                    active0 = true;
                    active1 = false;
                    x1 = slide1 + imageWidth;
                    x2 = slide2 + halfWindowWidth;
                    x3 = slide3 + halfWindowWidth;
                    x4 = slide4 + halfWindowWidth;
                    x5 = slide5 + halfWindowWidth;
                } else {
                    return;
                }

            }

            first_slide.animate({left : x1}, 2000);
            second_slide.animate({left: x2}, 2000);
            third_slide.animate({left: x3}, 2000);
            forth_slide.animate({left: x4}, 2000);
            fifth_slide.animate({left: x5}, 2000);
        }

    });


    //    $('body').bind('mousewheel DOMMouseScroll', function (e) {
    //
    //        var scroll = 0,
    //            slide1 = first_slide.position().left,
    //            slide2 = second_slide.position().left,
    //            slide3 = third_slide.position().left,
    //            slide4 = forth_slide.position().left,
    //            slide5 = fifth_slide.position().left;
    //
    //        e.preventDefault();
    //        if (e.type == 'mousewheel') {
    //            scroll = e.originalEvent.wheelDeltaY * -1;
    //        }
    //        else if (e.type == 'DOMMouseScroll') {
    //            scroll = 40 * e.originalEvent.detail;
    //        }
    //
    ////        $(this).scrollTop(scroll + $(this).scroll());
    //
    //
    //        var x1 = slide1 + scroll,
    //            x2 = slide2 + scroll,
    //            x3 = slide3 + scroll,
    //            x4 = slide4 + scroll,
    //            x5 = slide5 + scroll;
    //
    //        if (x1 <= 0){
    //            first_slide.offset({left: x1});
    //        }
    //
    //        if (x1 <= imageWidth* -0.3) {
    //
    //            if(x2 <= 0 && x1 <= imageWidth * -1){
    //                second_slide.offset({left: x2});
    //            } else if(x2 >= 0){
    //                second_slide.offset({left: x2});
    //                third_slide.offset({left: x3});
    //                forth_slide.offset({left: x4});
    //                fifth_slide.offset({left: x5});
    //            }
    //        }
    //        if (x2 <= imageWidth * -0.3) {
    //            if(x3 <= 0 && x2 <= imageWidth * -1){
    //                third_slide.offset({left: x3});
    //            } else if(x3 >= 0) {
    //                third_slide.offset({left: x3});
    //                forth_slide.offset({left: x4});
    //                fifth_slide.offset({left: x5});
    //            }
    //
    //        }
    //        if (x3 <= imageWidth * -0.3) {
    //            if(x4 <= 0 && x3 <= imageWidth * -1){
    //                forth_slide.offset({left: x4});
    //            } else if(x4 >= 0){
    //                forth_slide.offset({left: x4});
    //                fifth_slide.offset({left: x5});
    //            }
    //
    //        }
    //        if (x4 <= imageWidth * -0.3) {
    //            fifth_slide.offset({left: x5});
    //        }
    //
    //    });


</script>
</body>
</html>