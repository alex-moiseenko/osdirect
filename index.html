<!doctype html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="css/app.css">
</head>
<body>
<div id="preloader">
    <img src="img/preloader.svg">
</div>
<div class="mobile d-block d-md-none">
    <div class="container">
        <div class="row align-items-center">
            <div class="message mx-auto col-12">
                <img class="d-inline" src="img/device.png" alt="">
                <p>
                    Lorem ipsum dolor.
                </p>
            </div>
        </div>
    </div>
</div>

<header class="d-none d-md-block">
    <div class="container-fluid">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-xl-5 col-lg-4 col-md-3">
                    <img src="img/logo.png" alt="" class="logo">
                </div>
                <div class="col-xl-6 col-lg-7 col-md-8">
                    <div class="row menu">
                        <div class="col link active" id="link1" data-num="1">• Главная</div>
                        <div class="col link" id="link2" data-num="2">• О нас</div>
                        <div class="col link" id="link3" data-num="3">• Команда</div>
                        <div class="col link" id="link4" data-num="4">• Клиенты</div>
                        <div class="col link" id="link5" data-num="5">• Контакты</div>
                    </div>
                </div>
                <div class="col-1 lang">
                    RU
                </div>
            </div>
        </div>
    </div>
</header>
<main class="d-none d-md-block">
    <div class="container-fluid" id="slider">
        <div class="first_slide slide">
            <img src="img/1.png" alt="" id="image">
            <div class="back">
                <img src="img/button.png" id="next-slide">
            </div>
            <div class="shadow"></div>
        </div>
        <div class="second_slide slide">
            <img src="img/2.png" alt="">
            <div class="shadow"></div>
        </div>
        <div class="third_slide slide">
            <img src="img/3.png" alt="">
            <div class="shadow"></div>
        </div>
        <div class="forth_slide slide">
            <img src="img/4.png" alt="">
            <div class="shadow"></div>
        </div>
        <div class="fifth_slide slide">
            <img src="img/5.png" alt="" id="image5">
        </div>
    </div>
</main>
<footer class="d-none d-md-block">
    <div class="container-fluid">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-7 col-md-6">
                    <span>© 2018 OSDirect. All rights reserved</span>
                </div>
                <div class="col-5 col-md-6">
                    <div class="row align-items-center">
                        <div class="col">
                            <div class="row align-items-center">
                                <img class="d-inline-flex" src="img/telephone.png" alt="">
                                <span class="d-inline-flex">+38 044 490 90 88<br/>+38 044 490 90 87</span>
                            </div>
                        </div>
                        <div class="col">
                            <div class="row align-items-center">
                                <img class="d-inline-flex" src="img/email.png" alt="">
                                <span class="d-inline-flex">osdgroup@gmail.com</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>

<script src="js/jquery.min.js"></script>

<script>

    $(document).ready(function () {

        var first_slide = $('.first_slide'),
            second_slide = $('.second_slide'),
            third_slide = $('.third_slide'),
            forth_slide = $('.forth_slide'),
            fifth_slide = $('.fifth_slide'),
            halfWindowWidth = $(window).width() / 2,
            lock = false,
            active = 1;

        var imageWidth;

        $(window).on('load', function () {
            imageWidth = $('#image').width();
            $('.shadow').css('width', imageWidth);
            $('.back').css('width', imageWidth);
            $('#preloader').fadeOut('slow');
        });

        $(window).on('resize',function() {
            imageWidth = $('#image').width();
            $('.shadow').css('width', imageWidth);
            $('.back').css('width', imageWidth);
        });

        $('#next-slide').on('click', function () {
            $('#link1').removeClass('active');
            $('#link2').addClass('active');
            Slide(2);
        });

        $('#slider').bind('mousewheel DOMMouseScroll', function (e) {

            if (!lock) {
                lock = true;
                setTimeout(function () {
                    lock = false;
                }, 2000);

                var scroll = 0,
                    x1 = first_slide.position().left,
                    x2 = second_slide.position().left,
                    x3 = third_slide.position().left,
                    x4 = forth_slide.position().left,
                    x5 = fifth_slide.position().left;

                e.preventDefault();

                if (e.type == 'mousewheel') {
                    scroll = e.originalEvent.wheelDeltaY * -1;
                }
                else if (e.type == 'DOMMouseScroll') {
                    scroll = 40 * e.originalEvent.detail;
                }

                if (scroll > 0) {

                    if(active != 5){
                        var next = active + 1;
                        $('#link'+ active).removeClass('active');
                        $('#link'+ next).addClass('active');
                    }


                    if (active == 1) {

                        active = 2;

                        x1 -= imageWidth;
                        x2 -= halfWindowWidth;
                        x3 -= halfWindowWidth;
                        x4 -= halfWindowWidth;
                        x5 -= halfWindowWidth;
                    } else if (active == 2) {

                        active = 3;

                        x1 -= halfWindowWidth;
                        x2 -= imageWidth;
                        x3 -= halfWindowWidth;
                        x4 -= halfWindowWidth;
                        x5 -= halfWindowWidth;
                    } else if (active == 3) {

                        active = 4;

                        x1 -= halfWindowWidth;
                        x2 -= halfWindowWidth;
                        x3 -= imageWidth;
                        x4 -= halfWindowWidth;
                        x5 -= halfWindowWidth;
                    } else if (active == 4) {

                        active = 5;

                        x1 -= halfWindowWidth;
                        x2 -= halfWindowWidth;
                        x3 -= halfWindowWidth;
                        x4 -= imageWidth;
                        x5 -= halfWindowWidth;
                    } else {
                        return;
                    }

                } else {

                    if(active != 1){
                        var prev = active - 1;
                        $('#link'+ active).removeClass('active');
                        $('#link'+ prev).addClass('active');
                    }


                    if (active == 5) {

                        active = 4;

                        x1 += halfWindowWidth;
                        x2 += halfWindowWidth;
                        x3 += halfWindowWidth;
                        x4 += imageWidth;
                        x5 += halfWindowWidth;
                    } else if (active == 4) {

                        active = 3;
                        x1 += halfWindowWidth;
                        x2 += halfWindowWidth;
                        x3 += imageWidth;
                        x4 += halfWindowWidth;
                        x5 += halfWindowWidth;
                    } else if (active == 3) {

                        active = 2;
                        x1 += halfWindowWidth;
                        x2 += imageWidth;
                        x3 += halfWindowWidth;
                        x4 += halfWindowWidth;
                        x5 += halfWindowWidth;
                    } else if (active == 2) {

                        active = 1;
                        x1 += imageWidth;
                        x2 += halfWindowWidth;
                        x3 += halfWindowWidth;
                        x4 += halfWindowWidth;
                        x5 += halfWindowWidth;
                    } else {
                        return;
                    }
                }

                first_slide.animate({left: x1}, 2000);
                second_slide.animate({left: x2}, 2000);
                third_slide.animate({left: x3}, 2000);
                forth_slide.animate({left: x4}, 2000);
                fifth_slide.animate({left: x5}, 2000);
            }
        });

        $('.link').on('click', function () {
            var to = $(this).data('num');
            $('#link' + active).removeClass('active');
            $('#link' + to).addClass('active');
            Slide(to);
        });

        function Slide(to) {

            var multiplier, i;

            multiplier = active - to;


//            console.log('active: ' + active + ' to: ' + to + ' multiplier: ' + multiplier);

            var x1 = first_slide.position().left,
                x2 = second_slide.position().left,
                x3 = third_slide.position().left,
                x4 = forth_slide.position().left,
                x5 = fifth_slide.position().left;

            if (multiplier < 0) {

                for (i = active; i < to; i++) {

                    if (i == 1) {
                        x1 -= imageWidth;
                        x2 -= halfWindowWidth;
                        x3 -= halfWindowWidth;
                        x4 -= halfWindowWidth;
                        x5 -= halfWindowWidth;
                    } else if (i == 2) {
                        x1 -= halfWindowWidth;
                        x2 -= imageWidth;
                        x3 -= halfWindowWidth;
                        x4 -= halfWindowWidth;
                        x5 -= halfWindowWidth;
                    } else if (i == 3) {
                        x1 -= halfWindowWidth;
                        x2 -= halfWindowWidth;
                        x3 -= imageWidth;
                        x4 -= halfWindowWidth;
                        x5 -= halfWindowWidth;
                    } else if (i == 4) {
                        x1 -= halfWindowWidth;
                        x2 -= halfWindowWidth;
                        x3 -= halfWindowWidth;
                        x4 -= imageWidth;
                        x5 -= halfWindowWidth;
                    } else {
                        return;
                    }

                }

            } else {
                for (i = active; i > to; i--) {

                    if (i == 5) {
                        x1 += halfWindowWidth;
                        x2 += halfWindowWidth;
                        x3 += halfWindowWidth;
                        x4 += imageWidth;
                        x5 += halfWindowWidth;
                    } else if (i == 4) {
                        x1 += halfWindowWidth;
                        x2 += halfWindowWidth;
                        x3 += imageWidth;
                        x4 += halfWindowWidth;
                        x5 += halfWindowWidth;
                    } else if (i == 3) {
                        x1 += halfWindowWidth;
                        x2 += imageWidth;
                        x3 += halfWindowWidth;
                        x4 += halfWindowWidth;
                        x5 += halfWindowWidth;
                    } else if (i == 2) {
                        x1 += imageWidth;
                        x2 += halfWindowWidth;
                        x3 += halfWindowWidth;
                        x4 += halfWindowWidth;
                        x5 += halfWindowWidth;
                    } else {
                        return;
                    }

                }

            }

            first_slide.animate({left: x1}, 2000);
            second_slide.animate({left: x2}, 2000);
            third_slide.animate({left: x3}, 2000);
            forth_slide.animate({left: x4}, 2000);
            fifth_slide.animate({left: x5}, 2000);

            active = to;

        }

    });


</body>
</html>